<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#317EFB">
  <link rel="apple-touch-icon" href="icons/icon-128x128.png">
  <link rel="icon" type="image/png" href="icons/icon-72x72.png"/>
  <title>lab calc</title>
  <style>
      * {
          font-family: sans-serif;
      }

      html {
          height: 100%;
      }

      body {
          background: #b6b6b6;
          height: 100%;
          margin: 0;
      }

      .content {
          height: 100%;
          background: #e0e0e0;
          display: flex;
          flex-direction: column;
          row-gap: 18px;
          padding: 20px;
      }

      .input_param {
          display: flex;
      }

      .param_name {
          font-size: 25px;
          margin-top: auto;
          margin-bottom: auto;
          display: block;
          margin-right: 15px;
          min-width: fit-content;
      }

      .input_field {
          font-size: 25px;
          width: 100%;
      }

      .name_and_result {
          display: flex;
          font-size: 15px;
      }

      .name {
          font-size: 15px;
          margin-top: auto;
          margin-bottom: auto;
          display: block;
          min-width: 35px;
          margin-left: 3px;
      }

      .result {
          font-size: 15px;
          background: white;
          width: 100%;
          color: black;
          border: none;
      }

      table {
          background: #949494;
      }

      td {
          width: 50%;
          background: #e0e0e0;
          padding: 2px;
      }


      .version {
          position: absolute;
          top: 3px;
          right: 3px;
          display: flex;
          column-gap: 5px;
          font-size: 10px;
          color: #c0c0c0;
          align-items: center;
          text-decoration: none;
      }
  </style>
</head>
<body>

  <div class="content">
    <div class="input_param">
      <div class="param_name">X =</div>
      <input type="number" id="input_x" class="input_field" value="">
    </div>

    <table>
      <tr>
        <td>
          <div class="name_and_result">
            <div class="name">–ù1</div>
            <input type="number" disabled class="result" id="n1_result"/>
          </div>
        </td>
        <td>
          <div class="name_and_result">
            <div class="name">–ù2</div>
            <input type="number" disabled class="result" id="n2_result"/>
          </div>
        </td>
      </tr>
      <tr>
        <td>
          <div class="name_and_result">
            <div class="name">–ù4</div>
            <input type="number" disabled class="result" id="n4_result"/>
          </div>
        </td>
        <td>
          <div class="name_and_result">
            <div class="name">–ù16</div>
            <input type="number" disabled class="result" id="n16_result"/>
          </div>
        </td>
      </tr>
    </table>


    <table>
      <tr>
        <td>
          <div class="name_and_result">
            <div class="name">–ê1</div>
            <input type="number" disabled class="result" id="a1_result"/>
          </div>
        </td>
        <td>
          <div class="name_and_result">
            <div class="name">–ê2</div>
            <input type="number" disabled class="result" id="a2_result"/>
          </div>
        </td>
      </tr>
      <tr>
        <td>
          <div class="name_and_result">
            <div class="name">–ê4</div>
            <input type="number" disabled class="result" id="a4_result"/>
          </div>
        </td>
        <td>
          <div class="name_and_result">
            <div class="name">–ê16</div>
            <input type="number" disabled class="result" id="a16_result"/>
          </div>
        </td>
      </tr>
    </table>


    <div class="input_param">
      <div class="param_name">A =</div>
      <input type="number" id="input_a" class="input_field" value="">
    </div>

    <div class="input_param">
      <div class="param_name">B =</div>
      <input type="number" id="input_b" class="input_field" value="">
    </div>

    <table>
      <tr>
        <td>
          <div class="name_and_result">
            <div class="name">–ö–ê</div>
            <input type="number" disabled class="result" id="KA_result"/>
          </div>
        </td>
      </tr>
    </table>
  </div>

  <a class="version" href="https://github.com/Alex-1701/lab_calc" target="_blank">
    lab calc v1.0.1
  </a>

</body>
<script>

  // Register the service worker
  if ('serviceWorker' in navigator) {
    // Wait for the 'load' event to not block other work
    window.addEventListener('load', async () => {
      // Try to register the service worker.
      try {
        // Capture the registration for later use, if needed
        let reg;

        reg = await navigator.serviceWorker.register('/service-worker.js');

        console.log('Service worker registered! üòé', reg);
      } catch (err) {
        console.log('üò• Service worker registration failed: ', err);
      }
    });
  }

  const calculate_N = () => {
    const x = document.getElementById("input_x").value;

    document.getElementById("n16_result").value = (x * 16 * 0.031).toFixed(3);
    document.getElementById("n4_result").value = (x * 4 * 0.031).toFixed(3);
    document.getElementById("n2_result").value = (x * 2 * 0.031).toFixed(3);
    document.getElementById("n1_result").value = (x * 1 * 0.031).toFixed(3);

    document.getElementById("a16_result").value = (x * 16 / 3).toFixed(3);
    document.getElementById("a4_result").value = (x * 4 / 3).toFixed(3);
    document.getElementById("a2_result").value = (x * 2 / 3).toFixed(3);
    document.getElementById("a1_result").value = (x * 1 / 3).toFixed(3);
  }

  document.getElementById("input_x").addEventListener("input", calculate_N)

  const calculate_KA = () => {
    const a = document.getElementById("input_a").value;
    const b = document.getElementById("input_b").value;

    if (a && b) {
      document.getElementById("KA_result").value = ((a - b) / b).toFixed(0);
    } else {
      document.getElementById("KA_result").value = "";
    }
  }

  document.getElementById("input_a").addEventListener("input", calculate_KA)
  document.getElementById("input_b").addEventListener("input", calculate_KA)

  // calculate_KA()

</script>
</html>
